!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=1)}([function(t,e,r){"use strict";var n=function(){function t(t,e,r){this.name=t,this.errMsg=e,this.passCriteria=r}return t.prototype.check=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this.passCriteria(t,e)?{status:!0,msg:null,idealValue:e}:{status:!1,msg:this.errMsg.replace("{:alias}",r),idealValue:e}},t}();t.exports=n},function(t,e,r){"use strict";var n=r(2),i=r(0);t.exports={Rule:i,Validator:n},t.exports.default=n},function(t,e,r){"use strict";var n=r(3),i=function(){function t(t,e){this.problemElems=[],this.firstErrors=[],this.useFirstErrors=!1,this.targetId=t,this.formData=e,this.registeredFields=[],this.rm=new n}function e(t,e){var r=!1;return t.forEach(function(t){e(t)&&(r=!0)}),r}return t.prototype.target=function(t){return this.targetId=t,this},t.prototype.use=function(t){return this.rules=t,this},t.prototype.setData=function(t){return this.formData=t,this},t.prototype.buildFormData=function(t){var e=this.getRegisteredFieldNames(this.rules);this.registeredFields=e;var r={};e.forEach(function(e){r[e]=document.querySelector("#"+t+" *[name='"+e+"']")}),this.formData=r},t.prototype.getRegisteredFieldNames=function(t){return Object.keys(t)},t.prototype.validate=function(){var t=this,r=this;if(this.buildFormData(this.targetId),null===this.formData)throw new Error("The `data` cannot be null");if(""===this.targetId)throw new Error("The `targetId` property cannot be null");if(null===this.rules)throw new Error("The `rules` property cannot be null");return this.registeredFields.forEach(function(n){var i=document.querySelectorAll("*[name='"+n+"']")[0],o=i.value,s=t.check(n,o);if(!1===s.status){var u=document.getElementsByName(n)[0].tagName,a="#"+r.targetId+" "+u+"[name='"+n+"']";s.allErrors.forEach(function(r){var i={selector:a,msg:r.msg.replace("{:field}",n)};t.problemElems.unshift(i),e(t.firstErrors,function(t){return t.selector===a})||t.firstErrors.push(i)})}}),new o(this.useFirstErrors?this.firstErrors:this.problemElems)},t.prototype.check=function(t,e){var r=this,n=this.rules[t],i=[],o=!0,u=this.getRulesRegisteredOn(t);return this.rm.getRulesByNames(u).forEach(function(t){var s=r.getIdealValue(t.name,n),u=r.getIdealValueAlias(t.name,n),a=t.check(e,s,u);!1===a.status&&(o=!1,i.push(a))}),new s(o,i)},t.prototype.getRulesRegisteredOn=function(t){var e=this.rules[t],r=[];return e.forEach(function(t){var e=t.split("=");r.push(e[0])}),r},t.prototype.getIdealValue=function(t,e){var r="";e.forEach(function(e){0===e.indexOf(t)&&(r=e)});var n=r.split(/[=.]/);return 3===n.length||2===n.length?n[1]:"true"},t.prototype.getIdealValueAlias=function(t,e){var r="";e.forEach(function(e){0===e.indexOf(t)&&(r=e)});var n=r.split(/[=.]/);return n[n.length-1]},t.prototype.runBefore=function(t){return t(),this},t.prototype.addRule=function(t){this.rm.addRule(t)},t.prototype.addRules=function(t){this.rm.addRules(t)},t.prototype.getDefaultRuleNames=function(){return this.rm.getAllRuleNames()},t.prototype.getAllRuleNames=function(){return this.rm.getAllRuleNames()},t.prototype.getDefaultRules=function(){return this.rm.getDefaultRules()},t}(),o=function(){function t(t){this.problemElems=t}return t.prototype.success=function(t){return 0===this.problemElems.length&&t(),this},t.prototype.failure=function(t){return this.problemElems.length>0&&t(this.problemElems),this},t}(),s=function(){function t(t,e){this.status=t,this.allErrors=e}return t}();t.exports=i},function(t,e,r){"use strict";var n=r(0),i=function(){function t(e){return 1===e.length?!isNaN(parseInt(e)):!isNaN(parseInt(e[0]))&&t(e.slice(1))}function e(t){var e=t||r;this.setDefinedRules(e)}var r=[new n("required","{:field} is required",function(t,e){return!!t}),new n("maxLength","{:field} should not exceed {:alias} characters",function(t,e){return t.length<=e}),new n("contains","{:field} must contain {:alias}",function(t,e){return t.indexOf(e)>=0}),new n("minLength","{:field} cannot be less than {:alias} characters",function(t,e){return t.length>=e}),new n("exactLength","{:field} must contain exactly {:alias} characters",function(t,e){return t.length===parseInt(e)}),new n("numeric","{:field} must be a valid number",function(e,r){return t(e)})];return e.prototype.getDefaultRules=function(){return r},e.prototype.getDefaultRuleNames=function(){var t=[];return r.forEach(function(e){t.push(e.name)}),t},e.prototype.setDefinedRules=function(t){if(!t||!this.isValidRuleSet(t))throw new Error("Argument should be an array of rules.");this.definedRules=t},e.prototype.isValidRuleSet=function(t){var e=this;return t.forEach(function(t){if(!e.isValidRule(t))return!1}),!0},e.prototype.isValidRule=function(t){return t instanceof n},e.prototype.addRule=function(t){if(!this.isValidRule(t))throw new Error("The new rule must be an instance of `Rule`");this.definedRules.push(t)},e.prototype.addRules=function(t){var e=this;if(!this.isValidRuleSet(t))throw new Error("The rule set must only contain instances of `Rule`");t.forEach(function(t){e.definedRules.push(t)})},e.prototype.getAllRuleNames=function(){var t=[];return this.definedRules.forEach(function(e){return t.push(e.name)}),t},e.prototype.ruleExists=function(t){return this.getAllRuleNames().Contains(t)},e.prototype.getRulesByNames=function(t){var e=this;t.forEach(function(t){if(!1===e.ruleExists(t))throw new Error("The rule: "+t+" is not registered with the rule manager")});var r=[];return this.definedRules.forEach(function(e){t.Contains(e.name)&&r.push(e)}),r},Array.prototype.Contains=function(t){var e=!1;return this.forEach(function(r){r===t&&(e=!0)}),e},Object.prototype.values=function(t){var e=t||this,r=Object.keys(e),n=[];return r.forEach(function(t){return n.push(e.key)}),n},Object.prototype.toArray=function(t){if(t instanceof Array)return t;var e=t||this,r=[],n=Object.keys(e),i=Object.values(e),o=0;return n.forEach(function(t){r[t]=i[o++]}),r},e}();t.exports=i}])});